Graph ham {
  center=true;
  subgraph cluster_substrate{
    label="Physical Substrate Network";
    {rank=1 "a'"}
    {rank=same; "b'"; "d'"}
    "c'";
  }

  "a'" -- "b'" [label="1"]
  "b'" -- "c'" [label="1"]
  "c'" -- "d'" [label="1"]
  "d'" -- "a'" [label="1"]

  
  subgraph cluster_virtual {
    label="Virtual Network";
    node [shape=box,style=filled,color=grey]
    {p1; p2; p3; p4;}
  }
  p1 -- p2 [label="1"]
  p2 -- p3 [label="1"]
  p3 -- p4 [label="1"]
}

